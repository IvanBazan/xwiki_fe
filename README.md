# xwiki_fe
xwiki for engeneers


# Система бэкапа 


**Серверная часть**

На сервере создается бэкап скриптом 

![бэкап сервера](backup_xwiki.sh)

Далее рекомендуется на сервере в /opt/backups/xwiki/ 
в папке с бэкапами сделать симлинк на последний бэкап


```bash 
ln -sfn $(ls -td */ | head -1) latest
```

На текущий момент в бэкапе будут:
1. configs.tar.gz
2. xwiki_data_full.tar.gz
3. xwiki_db.dump

То есть бэкапы БД, и xwiki с настройками

**Локальная часть (Windows)**

Для копирования бэкапа на локальную машину из корневой папки проекта вызываем:

```sh
scp root@217.144.184.244:/opt/backups/xwiki/latest/* .
```

Далее вызываем powerShell скрипт для восстановления состояния сервера на локальной машине:

![восстановление состояния сервера на локальной машине](restore.ps1)